<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Hub: {# TODO: {studio.name}#}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/Styles.css') }}">
</head>

<body>
  <header class="header">
    <div class="header-left">
      <a href="/store">
        <img src="{{url_for('static', filename='images/store-icons/home.png')}}" class="title_img" alt="home page"/>
      </a>
      <a href="/library">
        <img src="{{url_for('static', filename='images/store-icons/library.png')}}" class="title_img" alt="library page"/>
      </a>
    </div>

    <h1 class="game-hub"></h1>

    <div class="header-right">
      <a href="/cart">
        <img src="{{url_for('static', filename='images/store-icons/cart.png')}}" class="title_img" alt="cart page"/>
      </a>
      <a href="/profile">
        <img src="{{url_for('static', filename='images/store-icons/user.png')}}" class="title_img" alt="user page"/>
      </a>
    </div>
  </header>

  <main class="main-content">
    <div class="container_user">
      <div class="user_info">
        {# TODO: <img src="{{ url_for('static', filename='images/studios/{avatar}'.format(avatar=studio.avatar)) }}" alt="Studio Logo" class="user_image"> #}
				<img src="static/images/studio/default.jpg" alt="Studio Logo" class="user_image">
        <div class="profile-info">
          <div class="user_info_text">Studio Name{# TODO: {studio.name}#}</div>
        </div>
        <div class="user_info_text">Games:<br/>5{# TODO: {studio.games|length} #}</div>
        <button class="button_common" onclick="toggleEditMode()">Edit</button>
      </div>

      <div class="button_container">
        <button class="button_common active">Games</button>
        <button class="button_common">About</button>
        <button class="button_common">Add game</button>
      </div>

      <div class="section_user">
        <div class="games_section" id="games-section">
          <h2>Games by Studio Name{# TODO: {studio.name}#}</h2>
          <!-- <div class="game-list"> -->
						<ul>
							{# TODO:
							{% for game in user_games % }
								<li onclick="loadGameDetails( {{ game }} )"><img src={{url_for('static', filename='images/games/{gid}/{gpic}'.format(gid=game.game_id, gpic=game.icon))}} class="game_icon"><span title="{{game.name}}">{{game.name}}</span></li>
							{% endfor % }
							#}
						</ul>
          <!-- </div> -->
        </div>

        <div id="edit-form" style="display: none;">
          <form action="{# TODO:{url_for('update_studio', studio_id=studio.id)}#}" method="POST" enctype="multipart/form-data">
            <label for="studio-name">Studio Name:</label>
            <input type="text" id="studio-name" name="name" value="{# TODO: {studio.name} #}" required>
            
            <label for="studio-description">Description:</label>
            <textarea id="studio-description" name="description" rows="4" required>{# TODO:{studio.description}#}</textarea>
            
            <label for="studio-avatar">Studio Logo:</label>
            <input type="file" id="studio-avatar" name="avatar" accept="image/*">
            
            <button type="submit" class="button_common">Save</button>
            <button type="button" class="button_common" onclick="toggleEditMode()">Cancel</button>
          </form>
        </div>
      </div>
    </div>
  </main>

  <script>
    function toggleEditMode() {
      var gamesSection = document.getElementById('games-section');
      var editForm = document.getElementById('edit-form');
      if (gamesSection.style.display === 'none') {
        gamesSection.style.display = 'block';
        editForm.style.display = 'none';
      } else {
        gamesSection.style.display = 'none';
        editForm.style.display = 'block';
      }
    }
  </script>
</body>
</html>